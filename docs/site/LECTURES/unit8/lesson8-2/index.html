<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 8.2 - NCHS Cybersecurity</title>
    
    
    <link rel="icon" href="../../../img/logo.png">
    
    
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DRPQMPQQS6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-DRPQMPQQS6');
    </script>
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0e27;
            --bg-secondary: #141b3a;
            --text-primary: #00ff41;
            --text-secondary: #7affa7;
            --text-muted: #4a9960;
            --accent: #ff0844;
            --accent-secondary: #00d4ff;
            --border: #1a3a2a;
        }

        body {
            font-family: 'JetBrains Mono', monospace;
            background: var(--bg-primary);
            color: var(--text-secondary);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Navigation */
        nav {
            background: var(--bg-secondary);
            border-bottom: 2px solid var(--text-primary);
            padding: 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 255, 65, 0.2);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .nav-logo img {
            height: 40px;
            width: auto;
        }

        .nav-logo a {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 900;
            color: var(--text-primary);
            text-decoration: none;
            letter-spacing: 0.1em;
            text-shadow: 0 0 10px var(--text-primary);
        }

        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
            align-items: center;
        }

        .nav-links > li {
            position: relative;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            padding: 8px 15px;
            border-radius: 4px;
            display: block;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--text-primary);
            background: rgba(0, 255, 65, 0.1);
            text-shadow: 0 0 10px var(--text-primary);
        }

        /* Dropdown menu */
        .nav-links .dropdown {
            position: relative;
        }

        .nav-links .dropdown > a::after {
            content: ' ‚ñº';
            font-size: 0.7em;
            margin-left: 5px;
        }

        .nav-links .dropdown-content {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: var(--bg-secondary);
            border: 2px solid var(--text-primary);
            border-radius: 4px;
            min-width: 250px;
            box-shadow: 0 8px 30px rgba(0, 255, 65, 0.3);
            z-index: 1000;
            padding: 10px 0;
            margin-top: 5px;
        }

        .nav-links .dropdown:hover .dropdown-content {
            display: block;
        }

        .nav-links .dropdown-content li {
            list-style: none;
        }

        .nav-links .dropdown-content a {
            padding: 10px 20px;
            border-radius: 0;
        }

        .nav-links .dropdown-content .nested {
            padding-left: 0;
        }

        .nav-links .dropdown-content .nested > strong {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .nav-links .dropdown-content .nested > strong:hover {
            background: rgba(0, 255, 65, 0.1);
        }

        .nav-links .dropdown-content .nested > strong::after {
            content: '‚ñº';
            font-size: 0.8em;
            transition: transform 0.3s ease;
            color: var(--text-primary);
        }

        .nav-links .dropdown-content .nested.collapsed > strong::after {
            transform: rotate(-90deg);
        }

        .nav-links .dropdown-content .nested .unit-lessons {
            max-height: 500px;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .nav-links .dropdown-content .nested.collapsed .unit-lessons {
            max-height: 0;
        }

        .nav-links .dropdown-content .nested .unit-lessons li {
            padding-left: 20px;
        }

        .nav-links .dropdown-content .nested a {
            padding: 8px 20px;
            font-size: 0.9em;
            color: var(--text-muted);
        }

        .nav-links .dropdown-content .nested a:hover {
            color: var(--text-primary);
            background: rgba(0, 255, 65, 0.05);
        }

        /* Mobile menu toggle */
        .nav-toggle {
            display: none;
            background: none;
            border: 2px solid var(--text-primary);
            color: var(--text-primary);
            padding: 8px 15px;
            cursor: pointer;
            border-radius: 4px;
        }

        /* Search */
        .search-container {
            position: relative;
            margin-left: 20px;
        }

        .search-input {
            padding: 8px 35px 8px 15px;
            background: var(--bg-primary);
            border: 2px solid var(--border);
            border-radius: 6px;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            width: 250px;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--text-primary);
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.2);
        }

        .search-input::placeholder {
            color: var(--text-muted);
        }

        .search-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            pointer-events: none;
        }

        .search-results {
            position: absolute;
            top: calc(100% + 10px);
            left: 0;
            right: 0;
            background: var(--bg-secondary);
            border: 2px solid var(--text-primary);
            border-radius: 8px;
            max-height: 400px;
            overflow-y: auto;
            display: none;
            z-index: 2000;
            box-shadow: 0 8px 30px rgba(0, 255, 65, 0.3);
        }

        .search-results.active {
            display: block;
        }

        .search-result-item {
            padding: 15px;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-item:hover {
            background: rgba(0, 255, 65, 0.05);
        }

        .search-result-title {
            color: var(--text-primary);
            font-weight: 700;
            margin-bottom: 5px;
        }

        .search-result-path {
            color: var(--text-muted);
            font-size: 0.8rem;
            margin-bottom: 8px;
        }

        .search-result-excerpt {
            color: var(--text-secondary);
            font-size: 0.85rem;
            line-height: 1.4;
        }

        .search-highlight {
            background: var(--text-primary);
            color: var(--bg-primary);
            padding: 2px 4px;
            border-radius: 2px;
            font-weight: 700;
        }

        .search-no-results {
            padding: 20px;
            text-align: center;
            color: var(--text-muted);
        }

        .search-results::-webkit-scrollbar {
            width: 8px;
        }

        .search-results::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        .search-results::-webkit-scrollbar-thumb {
            background: var(--text-primary);
            border-radius: 4px;
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 30px;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Orbitron', sans-serif;
            color: var(--text-primary);
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        h1 {
            font-size: 2.5rem;
            text-shadow: 0 0 20px var(--text-primary);
            letter-spacing: 0.05em;
            border-bottom: 2px solid var(--text-primary);
            padding-bottom: 15px;
        }

        h2 {
            font-size: 2rem;
            border-left: 4px solid var(--text-primary);
            padding-left: 15px;
        }

        h3 { font-size: 1.5rem; }
        h4 { font-size: 1.25rem; }

        p {
            margin-bottom: 1.2rem;
            color: var(--text-secondary);
        }

        a {
            color: var(--accent-secondary);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        a:hover {
            color: var(--text-primary);
            text-shadow: 0 0 10px var(--text-primary);
        }

        /* Code Blocks */
        code {
            background: var(--bg-secondary);
            color: var(--text-primary);
            padding: 2px 8px;
            border-radius: 4px;
            border: 1px solid var(--border);
            font-family: 'JetBrains Mono', monospace;
        }

        pre {
            background: var(--bg-secondary);
            border: 2px solid var(--text-primary);
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.2);
        }

        pre code {
            background: transparent;
            border: none;
            padding: 0;
        }

        /* Lists */
        ul, ol {
            margin-left: 30px;
            margin-bottom: 1.2rem;
        }

        li {
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        li::marker {
            color: var(--text-primary);
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
        }

        th {
            background: var(--bg-primary);
            color: var(--text-primary);
            padding: 12px;
            text-align: left;
            border: 1px solid var(--text-primary);
            font-weight: 700;
        }

        td {
            padding: 12px;
            border: 1px solid var(--border);
        }

        tr:hover {
            background: rgba(0, 255, 65, 0.05);
        }

        /* Blockquotes */
        blockquote {
            border-left: 4px solid var(--text-primary);
            background: var(--bg-secondary);
            padding: 15px 20px;
            margin: 20px 0;
            font-style: italic;
        }

        /* Images */
        img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 20px 0;
        }

        /* Horizontal Rule */
        hr {
            border: none;
            border-top: 2px solid var(--text-primary);
            margin: 30px 0;
            opacity: 0.3;
        }

        /* Footer */
        footer {
            background: var(--bg-secondary);
            border-top: 2px solid var(--text-primary);
            padding: 30px;
            margin-top: 60px;
            text-align: center;
            color: var(--text-muted);
        }

        /* Scanline Effect */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to bottom,
                transparent 50%,
                rgba(0, 255, 65, 0.02) 51%
            );
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 9999;
            animation: scan 8s linear infinite;
        }

        @keyframes scan {
            0% { transform: translateY(0); }
            100% { transform: translateY(100%); }
        }

        /* Selection */
        ::selection {
            background: var(--text-primary);
            color: var(--bg-primary);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--text-primary);
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-secondary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-toggle {
                display: block;
            }

            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: var(--bg-secondary);
                flex-direction: column;
                padding: 20px;
                border-bottom: 2px solid var(--text-primary);
            }

            .nav-links.active {
                display: flex;
            }

            h1 {
                font-size: 2rem;
            }

            .container {
                padding: 20px 15px;
            }

            .search-container {
                margin-left: 10px;
            }

            .search-input {
                width: 200px;
            }
        }

        /* Search Box */
        .search-box {
            padding: 10px;
            background: var(--bg-primary);
            border: 1px solid var(--text-primary);
            border-radius: 4px;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
        }

        .search-box::placeholder {
            color: var(--text-muted);
        }

        /* Lesson Navigation */
        .lesson-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 60px 0 40px 0;
            padding: 30px;
            background: var(--bg-secondary);
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .lesson-nav-button {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 30px;
            background: var(--bg-primary);
            border: 2px solid var(--text-primary);
            border-radius: 8px;
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            font-family: 'JetBrains Mono', monospace;
        }

        .lesson-nav-button:hover {
            background: var(--text-primary);
            color: var(--bg-primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 255, 65, 0.3);
        }

        .lesson-nav-button.disabled {
            opacity: 0.3;
            pointer-events: none;
        }

        .lesson-nav-button .arrow {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .lesson-nav-info {
            text-align: center;
            color: var(--text-secondary);
        }

        .lesson-nav-info .current-lesson {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 5px;
        }

        .lesson-nav-info .lesson-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        @media (max-width: 768px) {
            .lesson-nav {
                flex-direction: column;
                gap: 20px;
            }

            .lesson-nav-button {
                width: 100%;
                justify-content: center;
            }

            .lesson-nav-info {
                order: -1;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <div class="nav-logo">
                
                <img src="../../../img/logo.png" alt="Logo">
                
                <a href="https://mohamed-morsy33.github.io/cybersecuritynchs/">NCHS Cybersecurity</a>
            </div>
            
            <button class="nav-toggle" onclick="toggleMenu()">MENU</button>
            
            <ul class="nav-links" id="navLinks">
                
                <li >
                    
                        <a href="../../.." 
                           >
                            Home
                        </a>
                    
                </li>
                
                <li class="dropdown">
                    
                        <a href="#">Curriculum</a>
                        <ul class="dropdown-content">
                            
                                
                                    <li class="nested collapsed">
                                        <strong>Unit 1</strong>
                                        <ul class="unit-lessons">
                                            
                                            <li>
                                                <a href="../../unit1/lesson1-1/">Lesson 1.1</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit1/lesson1-2/">Lesson 1.2</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit1/lesson1-3/">Lesson 1.3</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit1/lesson1-4/">Lesson 1.4</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit1/lesson1-5/">Lesson 1.5</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit1/lesson1-6/">Lesson 1.6</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit1/installation-process/">Linux Installation Process</a>
                                            </li>
                                            
                                        </ul>
                                    </li>
                                
                            
                                
                                    <li class="nested collapsed">
                                        <strong>Unit 2</strong>
                                        <ul class="unit-lessons">
                                            
                                            <li>
                                                <a href="../../unit2/lesson2-1/">Lesson 2.1</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit2/lesson2-2/">Lesson 2.2</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit2/lesson2-3/">Lesson 2.3</a>
                                            </li>
                                            
                                        </ul>
                                    </li>
                                
                            
                                
                                    <li class="nested collapsed">
                                        <strong>Unit 3</strong>
                                        <ul class="unit-lessons">
                                            
                                            <li>
                                                <a href="../../unit3/lesson3-1/">Lesson 3.1</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit3/lesson3-2/">Lesson 3.2</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit3/lesson3-3/">Lesson 3.3</a>
                                            </li>
                                            
                                        </ul>
                                    </li>
                                
                            
                                
                                    <li class="nested collapsed">
                                        <strong>Unit 4</strong>
                                        <ul class="unit-lessons">
                                            
                                            <li>
                                                <a href="../../unit4/lesson4-1/">Lesson 4.1</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit4/lesson4-2/">Lesson 4.2</a>
                                            </li>
                                            
                                        </ul>
                                    </li>
                                
                            
                                
                                    <li class="nested collapsed">
                                        <strong>Unit 5</strong>
                                        <ul class="unit-lessons">
                                            
                                            <li>
                                                <a href="../../unit5/lesson5-1/">Lesson 5.1</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit5/lesson5-2/">Lesson 5.2</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit5/lesson5-3/">Lesson 5.3</a>
                                            </li>
                                            
                                        </ul>
                                    </li>
                                
                            
                                
                                    <li class="nested collapsed">
                                        <strong>Unit 6</strong>
                                        <ul class="unit-lessons">
                                            
                                            <li>
                                                <a href="../../unit6/lesson6-1/">Lesson 6.1</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit6/lesson6-2/">Lesson 6.2</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit6/lesson6-3/">Lesson 6.3</a>
                                            </li>
                                            
                                        </ul>
                                    </li>
                                
                            
                                
                                    <li class="nested collapsed">
                                        <strong>Unit 7</strong>
                                        <ul class="unit-lessons">
                                            
                                            <li>
                                                <a href="../../unit7/lesson7-1/">Lesson 7.1</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit7/lesson7-2/">Lesson 7.2</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit7/lesson7-3/">Lesson 7.3</a>
                                            </li>
                                            
                                        </ul>
                                    </li>
                                
                            
                                
                                    <li class="nested collapsed">
                                        <strong>Unit 8</strong>
                                        <ul class="unit-lessons">
                                            
                                            <li>
                                                <a href="../lesson8-1/">Lesson 8.1</a>
                                            </li>
                                            
                                            <li>
                                                <a href="./">Lesson 8.2</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../lesson8-3/">Lesson 8.3</a>
                                            </li>
                                            
                                        </ul>
                                    </li>
                                
                            
                                
                                    <li class="nested collapsed">
                                        <strong>Unit 9</strong>
                                        <ul class="unit-lessons">
                                            
                                            <li>
                                                <a href="../../unit9/lesson9-1/">Lesson 9.1</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit9/lesson9-2/">Lesson 9.2</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit9/lesson9-3/">Lesson 9.3</a>
                                            </li>
                                            
                                        </ul>
                                    </li>
                                
                            
                                
                                    <li class="nested collapsed">
                                        <strong>Unit 10</strong>
                                        <ul class="unit-lessons">
                                            
                                            <li>
                                                <a href="../../unit10/lesson10-1/">Lesson 10.1</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit10/lesson10-2/">Lesson 10.2</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit10/lesson10-3/">Lesson 10.3</a>
                                            </li>
                                            
                                        </ul>
                                    </li>
                                
                            
                                
                                    <li class="nested collapsed">
                                        <strong>Unit 11</strong>
                                        <ul class="unit-lessons">
                                            
                                            <li>
                                                <a href="../../unit11/lesson11-1/">Lesson 11.1</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit11/lesson11-2/">Lesson 11.2</a>
                                            </li>
                                            
                                            <li>
                                                <a href="../../unit11/lesson11-3/">Lesson 11.3</a>
                                            </li>
                                            
                                        </ul>
                                    </li>
                                
                            
                        </ul>
                    
                </li>
                
                <li >
                    
                        <a href="../../../test/" 
                           >
                            Terminal
                        </a>
                    
                </li>
                
            </ul>

            <div class="search-container">
                <input type="text" 
                       class="search-input" 
                       id="searchInput" 
                       placeholder="Search lessons..."
                       autocomplete="off">
                <span class="search-icon">üîç</span>
                <div class="search-results" id="searchResults"></div>
            </div>
        </div>
    </nav>

    <div class="container">
        
        <h1 id="legal-frameworks-and-compliance">Legal Frameworks and Compliance</h1>
<p>Ethics guide your choices, but laws and regulations enforce them. This lesson covers the legal landscape of cybersecurity‚Äîwhat you must know to stay on the right side of the law and help organizations remain compliant.</p>
<h2 id="criminal-laws">Criminal Laws</h2>
<h3 id="computer-fraud-and-abuse-act-cfaa-united-states">Computer Fraud and Abuse Act (CFAA) - United States</h3>
<p><strong>The CFAA makes it illegal to:</strong>
- Access a computer without authorization
- Exceed authorized access
- Cause damage to protected computers
- Obtain information through unauthorized access
- Traffic in passwords
- Threaten to cause damage</p>
<p><strong>Key provisions:</strong></p>
<pre><code>18 U.S.C. ¬ß 1030(a)(1) - Accessing classified information
18 U.S.C. ¬ß 1030(a)(2) - Obtaining information from protected computers
18 U.S.C. ¬ß 1030(a)(3) - Accessing government computers
18 U.S.C. ¬ß 1030(a)(4) - Fraud via computer
18 U.S.C. ¬ß 1030(a)(5) - Damaging protected computers
18 U.S.C. ¬ß 1030(a)(6) - Trafficking in passwords
18 U.S.C. ¬ß 1030(a)(7) - Extortion via computer
</code></pre>
<p><strong>"Protected computer"</strong> = any computer used in interstate commerce (basically all of them)</p>
<p><strong>Penalties:</strong>
- First offense: Up to 5 years
- Second offense: Up to 10 years
- Causing damage: Up to 10 years
- With intent to extort: Up to 20 years</p>
<p><strong>Controversial aspects:</strong>
- Broad interpretation of "unauthorized access"
- Terms of Service violations potentially criminal
- Aaron Swartz case highlighted problems
- Ongoing debates about reform</p>
<h3 id="computer-misuse-act-1990-cma-united-kingdom">Computer Misuse Act 1990 (CMA) - United Kingdom</h3>
<p><strong>Three main offenses:</strong></p>
<p><strong>Section 1: Unauthorized access</strong>
- Penalty: Up to 2 years imprisonment
- Covers: Accessing any computer without permission</p>
<p><strong>Section 2: Unauthorized access with intent</strong>
- Penalty: Up to 5 years imprisonment
- Covers: Accessing to commit further crimes</p>
<p><strong>Section 3: Unauthorized modification</strong>
- Penalty: Up to 10 years imprisonment
- Covers: Modifying computer material (malware, defacement)</p>
<p><strong>Section 3A: Making, supplying, or obtaining tools</strong>
- Penalty: Up to 2 years (summary), 10 years (indictment)
- Covers: Hacking tools, exploits</p>
<h3 id="other-criminal-laws">Other Criminal Laws</h3>
<p><strong>Electronic Communications Privacy Act (ECPA)</strong>
- Prohibits interception of electronic communications
- Covers email, phone calls, data transmissions
- Stored Communications Act (SCA) is part of ECPA</p>
<p><strong>Wire Fraud Statute (18 U.S.C. ¬ß 1343)</strong>
- Using electronic communications for fraud
- Applies to many cybercrimes</p>
<p><strong>Identity Theft and Assumption Deterrence Act</strong>
- Criminalizes identity theft
- Federal crime to use another's identity</p>
<p><strong>Economic Espionage Act</strong>
- Protects trade secrets
- Criminal penalties for theft</p>
<h2 id="data-protection-and-privacy-laws">Data Protection and Privacy Laws</h2>
<h3 id="general-data-protection-regulation-gdpr-eu">General Data Protection Regulation (GDPR) - EU</h3>
<p><strong>Scope:</strong>
- Applies to EU residents' data
- Extraterritorial (applies to companies outside EU)
- Covers personal data processing</p>
<p><strong>Key principles:</strong>
1. <strong>Lawfulness, fairness, transparency</strong>
2. <strong>Purpose limitation</strong> (collect for specific purposes)
3. <strong>Data minimization</strong> (only collect what's needed)
4. <strong>Accuracy</strong> (keep data accurate and up to date)
5. <strong>Storage limitation</strong> (don't keep longer than necessary)
6. <strong>Integrity and confidentiality</strong> (security)
7. <strong>Accountability</strong> (demonstrate compliance)</p>
<p><strong>Data subject rights:</strong>
- Right to access
- Right to rectification
- Right to erasure ("right to be forgotten")
- Right to restrict processing
- Right to data portability
- Right to object
- Rights related to automated decision-making</p>
<p><strong>Security requirements:</strong>
- Pseudonymization and encryption
- Ability to ensure confidentiality, integrity, availability
- Ability to restore availability after incident
- Regular testing and evaluation</p>
<p><strong>Breach notification:</strong>
- Must notify supervisory authority within 72 hours
- Must notify affected individuals if high risk
- Document all breaches</p>
<p><strong>Penalties:</strong>
- Up to ‚Ç¨20 million OR 4% of global annual revenue
- Whichever is higher</p>
<p><strong>Data Protection Officer (DPO):</strong>
- Required for public authorities
- Required for large-scale monitoring
- Required for large-scale processing of sensitive data</p>
<h3 id="california-consumer-privacy-act-ccpa-cpra">California Consumer Privacy Act (CCPA) / CPRA</h3>
<p><strong>Consumer rights:</strong>
- Know what personal information is collected
- Know whether information is sold or disclosed
- Say no to sale of information
- Access personal information
- Request deletion
- Equal service and price</p>
<p><strong>Business obligations:</strong>
- Provide privacy notice
- Respond to consumer requests
- Don't discriminate against consumers exercising rights
- Implement reasonable security</p>
<p><strong>Penalties:</strong>
- Up to $7,500 per intentional violation
- Up to $2,500 per violation
- Private right of action for data breaches</p>
<h3 id="health-insurance-portability-and-accountability-act-hipaa">Health Insurance Portability and Accountability Act (HIPAA)</h3>
<p><strong>Applies to:</strong>
- Healthcare providers
- Health plans
- Healthcare clearinghouses
- Business associates</p>
<p><strong>Protected Health Information (PHI):</strong>
- Any health information that can identify individual
- Includes medical records, payment information, etc.</p>
<p><strong>Privacy Rule:</strong>
- Limits use and disclosure of PHI
- Gives patients rights over their information
- Requires written authorization for most uses</p>
<p><strong>Security Rule:</strong>
- Administrative safeguards
- Physical safeguards
- Technical safeguards
- Requires risk assessments</p>
<p><strong>Breach Notification Rule:</strong>
- Notify affected individuals
- Notify HHS (Department of Health and Human Services)
- Media notification if &gt;500 people affected</p>
<p><strong>Penalties:</strong>
- Tier 1: $100-$50,000 per violation (unknowing)
- Tier 2: $1,000-$50,000 (reasonable cause)
- Tier 3: $10,000-$50,000 (willful neglect, corrected)
- Tier 4: $50,000+ (willful neglect, not corrected)
- Criminal penalties possible</p>
<h3 id="payment-card-industry-data-security-standard-pci-dss">Payment Card Industry Data Security Standard (PCI DSS)</h3>
<p><strong>Not a law, but contractually required by card companies</strong></p>
<p><strong>12 requirements:</strong>
1. Install and maintain firewall configuration
2. Don't use vendor-supplied defaults
3. Protect stored cardholder data
4. Encrypt transmission of cardholder data
5. Protect systems against malware
6. Develop and maintain secure systems
7. Restrict access to cardholder data
8. Identify and authenticate access
9. Restrict physical access to cardholder data
10. Track and monitor network access
11. Regularly test security systems
12. Maintain information security policy</p>
<p><strong>Compliance levels:</strong>
- Level 1: 6+ million transactions/year (annual onsite audit)
- Level 2: 1-6 million transactions/year (annual self-assessment)
- Level 3: 20,000-1 million e-commerce (annual self-assessment)
- Level 4: &lt;20,000 e-commerce or &lt;1 million (annual self-assessment)</p>
<p><strong>Penalties:</strong>
- Fines from card brands ($5,000-$100,000/month)
- Increased transaction fees
- Loss of ability to process cards</p>
<h2 id="sector-specific-regulations">Sector-Specific Regulations</h2>
<h3 id="financial-services">Financial Services</h3>
<p><strong>Gramm-Leach-Bliley Act (GLBA)</strong>
- Financial institutions must protect customer information
- Privacy notices required
- Opt-out for information sharing</p>
<p><strong>Sarbanes-Oxley Act (SOX)</strong>
- Internal controls over financial reporting
- IT controls are part of this
- Criminal penalties for executives</p>
<p><strong>New York Department of Financial Services (NYDFS) Cybersecurity Regulation</strong>
- Applies to financial institutions in NY
- Requires cybersecurity program
- Annual certification to superintendent
- Incident response plan required</p>
<h3 id="critical-infrastructure">Critical Infrastructure</h3>
<p><strong>NERC CIP (North American Electric Reliability Corporation Critical Infrastructure Protection)</strong>
- Standards for electric grid security
- Mandatory for utilities
- Covers physical and cyber security</p>
<p><strong>Transportation Security Administration (TSA) Security Directives</strong>
- Apply to pipelines, rail, aviation
- Cybersecurity requirements
- Incident reporting</p>
<h2 id="international-laws">International Laws</h2>
<h3 id="china-cybersecurity-law">China Cybersecurity Law</h3>
<p><strong>Key provisions:</strong>
- Data localization (critical data must stay in China)
- Network security reviews
- Real-name registration
- Cooperation with authorities</p>
<h3 id="australia-privacy-act">Australia Privacy Act</h3>
<p><strong>Australian Privacy Principles (APPs)</strong>
- 13 principles for handling personal information
- Covers collection, use, disclosure, security
- Notifiable Data Breaches scheme</p>
<h3 id="brazil-lgpd-lei-geral-de-protecao-de-dados">Brazil LGPD (Lei Geral de Prote√ß√£o de Dados)</h3>
<p><strong>Similar to GDPR:</strong>
- Data subject rights
- Consent requirements
- Security requirements
- Breach notification</p>
<h2 id="compliance-frameworks">Compliance Frameworks</h2>
<h3 id="nist-cybersecurity-framework">NIST Cybersecurity Framework</h3>
<p><strong>Five functions:</strong>
1. <strong>Identify</strong> - Asset management, risk assessment
2. <strong>Protect</strong> - Access control, training, data security
3. <strong>Detect</strong> - Monitoring, detection processes
4. <strong>Respond</strong> - Response planning, communications
5. <strong>Recover</strong> - Recovery planning, improvements</p>
<p><strong>Not mandatory but widely adopted</strong>
- Referenced by regulations
- Used for assessments
- Industry standard</p>
<h3 id="iso-2700127002">ISO 27001/27002</h3>
<p><strong>ISO 27001:</strong> Information Security Management System (ISMS)
- Certification available
- Requires risk assessment
- Continuous improvement</p>
<p><strong>ISO 27002:</strong> Code of practice
- Detailed controls
- Implementation guidance</p>
<p><strong>14 control domains:</strong>
1. Information security policies
2. Organization of information security
3. Human resource security
4. Asset management
5. Access control
6. Cryptography
7. Physical and environmental security
8. Operations security
9. Communications security
10. System acquisition, development, maintenance
11. Supplier relationships
12. Incident management
13. Business continuity
14. Compliance</p>
<h3 id="soc-2-system-and-organization-controls">SOC 2 (System and Organization Controls)</h3>
<p><strong>Trust Services Criteria:</strong>
- <strong>Security</strong> (required for all)
- Availability
- Processing integrity
- Confidentiality
- Privacy</p>
<p><strong>Two types:</strong>
- <strong>Type I:</strong> Design of controls at point in time
- <strong>Type II:</strong> Operating effectiveness over period (6-12 months)</p>
<p><strong>Used for:</strong> SaaS vendors, cloud providers, service organizations</p>
<h2 id="compliance-in-practice">Compliance in Practice</h2>
<h3 id="risk-assessments">Risk Assessments</h3>
<p><strong>Required by many regulations</strong></p>
<p><strong>Steps:</strong>
1. Identify assets
2. Identify threats
3. Identify vulnerabilities
4. Determine likelihood
5. Determine impact
6. Calculate risk
7. Prioritize
8. Implement controls
9. Monitor and review</p>
<h3 id="policies-and-procedures">Policies and Procedures</h3>
<p><strong>Required documents:</strong>
- Information security policy
- Acceptable use policy
- Incident response plan
- Business continuity plan
- Disaster recovery plan
- Data retention policy
- Vendor management policy
- Change management procedures</p>
<p><strong>Policy structure:</strong></p>
<pre><code>1. Purpose
2. Scope
3. Definitions
4. Policy statements
5. Responsibilities
6. Enforcement
7. Review and updates
</code></pre>
<h3 id="training-and-awareness">Training and Awareness</h3>
<p><strong>Required by most regulations</strong></p>
<p><strong>Topics:</strong>
- Security basics
- Phishing awareness
- Password security
- Data handling
- Incident reporting
- Compliance requirements</p>
<p><strong>Frequency:</strong>
- Annual training minimum
- New hire training
- Role-specific training
- Ad-hoc training for threats</p>
<h3 id="audit-and-assessment">Audit and Assessment</h3>
<p><strong>Internal audits:</strong>
- Regular self-assessments
- Verify controls are working
- Identify gaps</p>
<p><strong>External audits:</strong>
- Independent verification
- Required for some regulations
- Provides assurance to stakeholders</p>
<p><strong>Penetration testing:</strong>
- Test security controls
- Identify vulnerabilities
- Often required annually</p>
<h3 id="incident-response-and-reporting">Incident Response and Reporting</h3>
<p><strong>Notification requirements vary:</strong></p>
<p><strong>GDPR:</strong> 72 hours to authority
<strong>HIPAA:</strong> 60 days to individuals
<strong>PCI DSS:</strong> Immediately to acquiring bank
<strong>State breach laws:</strong> Varies (typically 30-90 days)</p>
<p><strong>What to report:</strong>
- Nature of breach
- Data involved
- Number of affected individuals
- Remediation steps
- Contact information</p>
<h3 id="documentation">Documentation</h3>
<p><strong>Critical for compliance:</strong>
- Policies and procedures
- Risk assessments
- Training records
- Audit logs
- Incident reports
- Vendor assessments
- Business associate agreements
- Data processing agreements</p>
<p><strong>Retention requirements vary:</strong>
- HIPAA: 6 years
- SOX: 7 years
- GDPR: As long as necessary
- PCI DSS: 1 year minimum</p>
<h2 id="consequences-of-non-compliance">Consequences of Non-Compliance</h2>
<h3 id="regulatory-fines">Regulatory Fines</h3>
<p><strong>Can be massive:</strong>
- British Airways: ¬£20 million (GDPR)
- Marriott: ¬£18.4 million (GDPR)
- Equifax: $575 million (FTC settlement)
- Capital One: $80 million (OCC fine)</p>
<h3 id="lawsuits">Lawsuits</h3>
<p><strong>Private right of action:</strong>
- Data breach class actions
- Can be costly even if settled
- Reputation damage</p>
<h3 id="business-impact">Business Impact</h3>
<p><strong>Beyond fines:</strong>
- Loss of customers
- Reputation damage
- Inability to process payments (PCI)
- Loss of contracts
- Stock price impact
- Executive turnover</p>
<h3 id="criminal-charges">Criminal Charges</h3>
<p><strong>Possible for:</strong>
- Willful violations
- Obstruction
- False statements
- Executives can be personally liable</p>
<h2 id="staying-compliant">Staying Compliant</h2>
<h3 id="continuous-monitoring">Continuous Monitoring</h3>
<p><strong>Don't wait for audits:</strong>
- Regular vulnerability scans
- Log monitoring
- Access reviews
- Configuration reviews
- Vendor assessments</p>
<h3 id="change-management">Change Management</h3>
<p><strong>Updates can break compliance:</strong>
- Document changes
- Assess impact on security
- Test before deploying
- Update documentation</p>
<h3 id="vendor-management">Vendor Management</h3>
<p><strong>Third parties are your responsibility:</strong>
- Due diligence before selection
- Contractual requirements
- Regular assessments
- Incident response coordination
- Right to audit</p>
<h3 id="keep-current">Keep Current</h3>
<p><strong>Laws and regulations change:</strong>
- Subscribe to updates
- Attend conferences
- Professional associations
- Legal counsel
- Compliance consultants</p>
<h2 id="practical-compliance-checklist">Practical Compliance Checklist</h2>
<p><strong>GDPR Compliance:</strong>
- [ ] Data inventory completed
- [ ] Lawful basis identified for processing
- [ ] Privacy notices updated
- [ ] Data subject request procedures
- [ ] Breach notification procedures
- [ ] DPO appointed (if required)
- [ ] Data protection impact assessments
- [ ] Vendor agreements updated
- [ ] Staff training completed
- [ ] Technical and organizational measures</p>
<p><strong>HIPAA Compliance:</strong>
- [ ] Risk assessment completed
- [ ] Policies and procedures documented
- [ ] Business associate agreements
- [ ] Encryption implemented
- [ ] Access controls
- [ ] Audit logging
- [ ] Training completed
- [ ] Incident response plan
- [ ] Breach notification procedures
- [ ] Physical security measures</p>
<p><strong>PCI DSS Compliance:</strong>
- [ ] Cardholder data inventory
- [ ] Network segmentation
- [ ] Firewall configuration
- [ ] No default passwords
- [ ] Data encryption
- [ ] Malware protection
- [ ] Secure systems and applications
- [ ] Access control
- [ ] Unique IDs
- [ ] Physical access restrictions
- [ ] Logging and monitoring
- [ ] Security testing
- [ ] Information security policy</p>
<h2 id="key-takeaways">Key Takeaways</h2>
<p><strong>Legal landscape:</strong>
- Criminal laws punish unauthorized access
- Privacy laws protect personal data
- Sector regulations add requirements
- International laws create complexity
- Compliance frameworks provide structure</p>
<p><strong>Your responsibilities:</strong>
- Know the laws that apply
- Implement required controls
- Document everything
- Train users
- Monitor continuously
- Report incidents properly</p>
<p><strong>Compliance is not security:</strong>
- Meeting minimum requirements ‚â† secure
- Security should exceed compliance
- But compliance is mandatory baseline</p>
<p><strong>Remember:</strong>
- Ignorance is not a defense
- Personal liability is possible
- Non-compliance is expensive
- Compliance is ongoing, not one-time
- Get legal advice when uncertain</p>
<p>Understanding legal requirements is essential for security professionals. You need to protect your organization legally as well as technically. This knowledge helps you make informed decisions and avoid costly violations.</p>
        

        <!-- Lesson Navigation (only show on non-homepage pages) -->
        
        <div class="lesson-nav">
            
            <a href="../lesson8-1/" class="lesson-nav-button">
                <span class="arrow">‚Üê</span>
                <span>Previous: Lesson 8.1</span>
            </a>
            

            <div class="lesson-nav-info">
                <div class="current-lesson">Current Lesson</div>
                <div class="lesson-title">Lesson 8.2</div>
            </div>

            
            <a href="../lesson8-3/" class="lesson-nav-button">
                <span>Next: Lesson 8.3</span>
                <span class="arrow">‚Üí</span>
            </a>
            
        </div>
        
    </div>

    <footer>
        <p>NCHS Cybersecurity | Built with MkDocs</p>
        
        <p>Copyright &copy; 2025 Mohamed Morsy</p>
        
    </footer>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@5.3.0/css/xterm.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/xterm@5.3.0/lib/xterm.min.js"></script>
    
    <script src="../../../search_index.js"></script>
    
    <script>
        function toggleMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('active');
        }

        document.addEventListener('DOMContentLoaded', function() {
            const unitHeaders = document.querySelectorAll('.nav-links .nested > strong');
            
            unitHeaders.forEach(header => {
                header.addEventListener('click', function(e) {
                    e.stopPropagation(); 
                    const parent = this.parentElement;
                    parent.classList.toggle('collapsed');
                });
            });
        });

        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchInput');
            const searchResults = document.getElementById('searchResults');
            
            if (!searchInput || !searchResults) {
                return;
            }
            
            let searchIndex = null;
            let useSimpleSearch = false;
            
            const simpleIndex = [
                
                    
                
                    
                        
                            
                                
                                {
                                    title: "Lesson 1.1",
                                    url: '../../unit1/lesson1-1/',
                                    path: 'Curriculum > Unit 1'
                                },
                                
                                {
                                    title: "Lesson 1.2",
                                    url: '../../unit1/lesson1-2/',
                                    path: 'Curriculum > Unit 1'
                                },
                                
                                {
                                    title: "Lesson 1.3",
                                    url: '../../unit1/lesson1-3/',
                                    path: 'Curriculum > Unit 1'
                                },
                                
                                {
                                    title: "Lesson 1.4",
                                    url: '../../unit1/lesson1-4/',
                                    path: 'Curriculum > Unit 1'
                                },
                                
                                {
                                    title: "Lesson 1.5",
                                    url: '../../unit1/lesson1-5/',
                                    path: 'Curriculum > Unit 1'
                                },
                                
                                {
                                    title: "Lesson 1.6",
                                    url: '../../unit1/lesson1-6/',
                                    path: 'Curriculum > Unit 1'
                                },
                                
                                {
                                    title: "Linux Installation Process",
                                    url: '../../unit1/installation-process/',
                                    path: 'Curriculum > Unit 1'
                                },
                                
                            
                        
                            
                                
                                {
                                    title: "Lesson 2.1",
                                    url: '../../unit2/lesson2-1/',
                                    path: 'Curriculum > Unit 2'
                                },
                                
                                {
                                    title: "Lesson 2.2",
                                    url: '../../unit2/lesson2-2/',
                                    path: 'Curriculum > Unit 2'
                                },
                                
                                {
                                    title: "Lesson 2.3",
                                    url: '../../unit2/lesson2-3/',
                                    path: 'Curriculum > Unit 2'
                                },
                                
                            
                        
                            
                                
                                {
                                    title: "Lesson 3.1",
                                    url: '../../unit3/lesson3-1/',
                                    path: 'Curriculum > Unit 3'
                                },
                                
                                {
                                    title: "Lesson 3.2",
                                    url: '../../unit3/lesson3-2/',
                                    path: 'Curriculum > Unit 3'
                                },
                                
                                {
                                    title: "Lesson 3.3",
                                    url: '../../unit3/lesson3-3/',
                                    path: 'Curriculum > Unit 3'
                                },
                                
                            
                        
                            
                                
                                {
                                    title: "Lesson 4.1",
                                    url: '../../unit4/lesson4-1/',
                                    path: 'Curriculum > Unit 4'
                                },
                                
                                {
                                    title: "Lesson 4.2",
                                    url: '../../unit4/lesson4-2/',
                                    path: 'Curriculum > Unit 4'
                                },
                                
                            
                        
                            
                                
                                {
                                    title: "Lesson 5.1",
                                    url: '../../unit5/lesson5-1/',
                                    path: 'Curriculum > Unit 5'
                                },
                                
                                {
                                    title: "Lesson 5.2",
                                    url: '../../unit5/lesson5-2/',
                                    path: 'Curriculum > Unit 5'
                                },
                                
                                {
                                    title: "Lesson 5.3",
                                    url: '../../unit5/lesson5-3/',
                                    path: 'Curriculum > Unit 5'
                                },
                                
                            
                        
                            
                                
                                {
                                    title: "Lesson 6.1",
                                    url: '../../unit6/lesson6-1/',
                                    path: 'Curriculum > Unit 6'
                                },
                                
                                {
                                    title: "Lesson 6.2",
                                    url: '../../unit6/lesson6-2/',
                                    path: 'Curriculum > Unit 6'
                                },
                                
                                {
                                    title: "Lesson 6.3",
                                    url: '../../unit6/lesson6-3/',
                                    path: 'Curriculum > Unit 6'
                                },
                                
                            
                        
                            
                                
                                {
                                    title: "Lesson 7.1",
                                    url: '../../unit7/lesson7-1/',
                                    path: 'Curriculum > Unit 7'
                                },
                                
                                {
                                    title: "Lesson 7.2",
                                    url: '../../unit7/lesson7-2/',
                                    path: 'Curriculum > Unit 7'
                                },
                                
                                {
                                    title: "Lesson 7.3",
                                    url: '../../unit7/lesson7-3/',
                                    path: 'Curriculum > Unit 7'
                                },
                                
                            
                        
                            
                                
                                {
                                    title: "Lesson 8.1",
                                    url: '../lesson8-1/',
                                    path: 'Curriculum > Unit 8'
                                },
                                
                                {
                                    title: "Lesson 8.2",
                                    url: './',
                                    path: 'Curriculum > Unit 8'
                                },
                                
                                {
                                    title: "Lesson 8.3",
                                    url: '../lesson8-3/',
                                    path: 'Curriculum > Unit 8'
                                },
                                
                            
                        
                            
                                
                                {
                                    title: "Lesson 9.1",
                                    url: '../../unit9/lesson9-1/',
                                    path: 'Curriculum > Unit 9'
                                },
                                
                                {
                                    title: "Lesson 9.2",
                                    url: '../../unit9/lesson9-2/',
                                    path: 'Curriculum > Unit 9'
                                },
                                
                                {
                                    title: "Lesson 9.3",
                                    url: '../../unit9/lesson9-3/',
                                    path: 'Curriculum > Unit 9'
                                },
                                
                            
                        
                            
                                
                                {
                                    title: "Lesson 10.1",
                                    url: '../../unit10/lesson10-1/',
                                    path: 'Curriculum > Unit 10'
                                },
                                
                                {
                                    title: "Lesson 10.2",
                                    url: '../../unit10/lesson10-2/',
                                    path: 'Curriculum > Unit 10'
                                },
                                
                                {
                                    title: "Lesson 10.3",
                                    url: '../../unit10/lesson10-3/',
                                    path: 'Curriculum > Unit 10'
                                },
                                
                            
                        
                            
                                
                                {
                                    title: "Lesson 11.1",
                                    url: '../../unit11/lesson11-1/',
                                    path: 'Curriculum > Unit 11'
                                },
                                
                                {
                                    title: "Lesson 11.2",
                                    url: '../../unit11/lesson11-2/',
                                    path: 'Curriculum > Unit 11'
                                },
                                
                                {
                                    title: "Lesson 11.3",
                                    url: '../../unit11/lesson11-3/',
                                    path: 'Curriculum > Unit 11'
                                },
                                
                            
                        
                    
                
                    
                        {
                            title: "Terminal",
                            url: '../../../test/',
                            path: 'Main'
                        },
                    
                
            ];
            
            if (typeof window.searchIndex !== 'undefined') {
                searchIndex = window.searchIndex;
                useSimpleSearch = false;
                console.log('‚úì Using embedded search index:', searchIndex.docs.length, 'documents');
            } else {
                const base_url = document.querySelector('base')?.getAttribute('href') || '/';
                fetch(base_url + 'search_data.js')
                    .then(response => response.text())
                    .then(data => {
                        eval(data);  
                        if (window.searchIndex) {
                            searchIndex = window.searchIndex;
                            useSimpleSearch = false;
                            console.log('‚úì Loaded search index from JS:', searchIndex.docs.length, 'documents');
                        }
                    })
                    .catch(() => {
                        console.log('Using simple title search (full search not available)');
                        useSimpleSearch = true;
                    });
                
                useSimpleSearch = true; 
            }
            
            function performSearch(query) {
                if (!query || query.length < 2) {
                    searchResults.classList.remove('active');
                    return;
                }
                
                if (useSimpleSearch || !searchIndex) {
                    performSimpleSearch(query);
                } else {
                    performFullSearch(query);
                }
            }
            
            function performSimpleSearch(query) {
                const lowerQuery = query.toLowerCase();
                const results = simpleIndex.filter(item => 
                    item.title.toLowerCase().includes(lowerQuery)
                );
                displaySimpleResults(results, query);
            }
            
            function performFullSearch(query) {
                const lowerQuery = query.toLowerCase();
                const queryTerms = lowerQuery.split(/\s+/);
                
                const results = searchIndex.docs
                    .map(doc => {
                        let score = 0;
                        let matchedText = '';
                        
                        if (doc.title && doc.title.toLowerCase().includes(lowerQuery)) {
                            score += 10;
                        }
                        
                        if (doc.text) {
                            const text = doc.text.toLowerCase();
                            queryTerms.forEach(term => {
                                if (term.length < 2) return;
                                const count = (text.match(new RegExp(escapeRegex(term), 'g')) || []).length;
                                score += count;
                                
                                if (count > 0 && !matchedText) {
                                    const index = text.indexOf(term);
                                    const start = Math.max(0, index - 50);
                                    const end = Math.min(text.length, index + term.length + 50);
                                    matchedText = doc.text.substring(start, end);
                                    if (start > 0) matchedText = '...' + matchedText;
                                    if (end < text.length) matchedText = matchedText + '...';
                                }
                            });
                        }
                        
                        return {
                            title: doc.title,
                            location: doc.location,
                            text: matchedText || (doc.text ? doc.text.substring(0, 150) + '...' : ''),
                            score: score
                        };
                    })
                    .filter(result => result.score > 0)
                    .sort((a, b) => b.score - a.score);
                
                displayFullResults(results, query);
            }
            
            function displaySimpleResults(results, query) {
                if (results.length === 0) {
                    searchResults.innerHTML = '<div class="search-no-results">No results found</div>';
                    searchResults.classList.add('active');
                    return;
                }
                
                const html = results.slice(0, 10).map(result => {
                    const highlightedTitle = highlightText(result.title, query);
                    return `
                        <a href="${result.url}" class="search-result-item">
                            <div class="search-result-title">${highlightedTitle}</div>
                            <div class="search-result-path">${escapeHtml(result.path)}</div>
                        </a>
                    `;
                }).join('');
                
                searchResults.innerHTML = html;
                searchResults.classList.add('active');
            }
            
            function displayFullResults(results, query) {
                if (results.length === 0) {
                    searchResults.innerHTML = '<div class="search-no-results">No results found</div>';
                    searchResults.classList.add('active');
                    return;
                }
                
                const pathname = window.location.pathname;
                let basePath = '/';
                
                const pathParts = pathname.split('/').filter(p => p);
                
                if (pathParts.length > 0 && !pathParts[0].endsWith('.html')) {
                    const firstPart = pathParts[0];
                    if (firstPart !== 'index' && firstPart !== 'search') {
                        basePath = '/' + firstPart + '/';
                    }
                }
                
                console.log('Current pathname:', pathname);
                console.log('Detected base path:', basePath);
                
                const html = results.slice(0, 10).map(result => {
                    const highlightedTitle = highlightText(result.title, query);
                    const highlightedText = highlightText(result.text, query);
                    
                    let path = result.location.replace(/^\//, '').replace(/\.html$/, '').replace(/\//g, ' > ');
                    if (!path) path = 'Home';
                    
                    let url;
                    if (basePath === '/') {
                        url = result.location;
                    } else {
                        const cleanLocation = result.location.startsWith('/') ? result.location.substring(1) : result.location;
                        url = basePath + cleanLocation;
                    }
                    
                    console.log('Result:', result.title, '-> URL:', url);
                    
                    return `
                        <a href="${url}" class="search-result-item">
                            <div class="search-result-title">${highlightedTitle}</div>
                            <div class="search-result-path">${escapeHtml(path)}</div>
                            <div class="search-result-excerpt">${highlightedText}</div>
                        </a>
                    `;
                }).join('');
                
                searchResults.innerHTML = html;
                searchResults.classList.add('active');
            }
            
            function highlightText(text, query) {
                if (!text) return '';
                const queryTerms = query.split(/\s+/).filter(t => t.length >= 2);
                let result = escapeHtml(text);
                queryTerms.forEach(term => {
                    const regex = new RegExp('(' + escapeRegex(term) + ')', 'gi');
                    result = result.replace(regex, '<span class="search-highlight">$1</span>');
                });
                return result;
            }
            
            function escapeRegex(string) {
                return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            }
            
            function escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }
            
            let searchTimeout;
            searchInput.addEventListener('input', function(e) {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => performSearch(e.target.value), 300);
            });
            
            searchInput.addEventListener('focus', function(e) {
                if (e.target.value.length >= 2) {
                    performSearch(e.target.value);
                }
            });
            
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                    searchResults.classList.remove('active');
                }
            });
            
            searchInput.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    searchResults.classList.remove('active');
                    searchInput.blur();
                }
            });
        });

        
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('pre code').forEach((block) => {
                block.parentElement.style.position = 'relative';
            });
        });
        
    </script>
</body>
</html>